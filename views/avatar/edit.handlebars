<script >
       
        var usuario = localStorage.getItem("usuario");
        
        if(usuario==null || usuario==undefined){
             console.log(usuario);
              window.location="/user/login"
             //window.location="/user/login"
        }
        
      
    


</script>
<h2>Editar - <a href="/avatar"> Cambiar Avatar </a></h2>

 <script src="/Js/jquery-3.3.1.min.js"> </script>
<!-- NOTA: utilice helper para simplificar el código de esta sección 
agregar method-override 
-->

<form class="form" action="/avatar/{{avatar.id_avatar}}?_method=PUT" method="post">
  <div class="form-group">
    <label for="title"></label>
      <div>
      <label>Subir Imagen</label>
      </div>
   

      <div class ="form-group" id="foto">
    
<input type="file" class="form-control" required id="url">
          
          <input type="text"  name="url" style="visibility:hidden" id="urlimage">
          
          
<!--
     <input type="text"  name="id_partida"   placeholder="id_partida">
   
-->
       

  
    
    </div>
  <button type="submit" class="btn btn-primary">Actualizar</button>
    <a href="/avatar" type="button"class="btn btn-danger">Atrás</a>
    </div>
</form>
<br><br><br>
    <div class="row pt-md-5"></div>


  <script>
try{ 
    document.addEventListener('DOMContentLoaded',function(){
    document.querySelector('#url').onchange=evento;
      },false);
      
      function evento(event){
        readURL(this, "urlimage");
      }
      
      function readURL(input, id) {

          if (input.files && input.files[0]) {
              var reader = new FileReader();
                console.log("Hola");
              reader.onload = function (e) {
                  console.log(e.target.result);
                  
                  $('#'+id).attr('value', e.target.result);
              }

              reader.readAsDataURL(input.files[0]);
          }
      }
    }catch(err){

    }
</script>